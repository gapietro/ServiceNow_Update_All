<?xml version="1.0" encoding="UTF-8"?><unload unload_date="2025-05-20 16:09:16">
<sys_remote_update_set action="INSERT_OR_UPDATE">
<application display_value="ServiceNow Update All">9b9d89f12bad22144271f21a6e91bfe4</application>
<application_name>ServiceNow Update All</application_name>
<application_scope>x_snc_update_all</application_scope>
<application_version>1.0.5</application_version>
<collisions/>
<commit_date/>
<deleted/>
<description>ServiceNow Scoped Application</description>
<inserted/>
<name>ServiceNow Update All</name>
<origin_sys_id/>
<parent display_value=""/>
<release_date/>
<remote_base_update_set display_value=""/>
<remote_parent_id/>
<remote_sys_id>9b2567ba2b25e6104271f21a6e91bff2</remote_sys_id>
<state>loaded</state>
<summary/>
<sys_class_name>sys_remote_update_set</sys_class_name>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2025-05-20 16:09:16</sys_created_on>
<sys_id>7645eb3a2b25e6104271f21a6e91bf1d</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2025-05-20 16:09:16</sys_updated_on>
<update_set display_value=""/>
<update_source display_value=""/>
<updated/>
</sys_remote_update_set>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="ServiceNow Update All">9b9d89f12bad22144271f21a6e91bfe4</application>
<category>customer</category>
<comments/>
<name>sys_scope_privilege_e1efc7be2beda6104271f21a6e91bf7d</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sys_scope_privilege"><sys_scope_privilege action="INSERT_OR_UPDATE"><operation>read</operation><source_scope display_value="ServiceNow Update All">9b9d89f12bad22144271f21a6e91bfe4</source_scope><status>allowed</status><sys_class_name>sys_scope_privilege</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2025-05-20 14:35:47</sys_created_on><sys_id>e1efc7be2beda6104271f21a6e91bf7d</sys_id><sys_mod_count>0</sys_mod_count><sys_name>sys_progress_worker</sys_name><sys_package display_value="ServiceNow Update All" source="x_snc_update_all">9b9d89f12bad22144271f21a6e91bfe4</sys_package><sys_policy/><sys_scope display_value="ServiceNow Update All">9b9d89f12bad22144271f21a6e91bfe4</sys_scope><sys_update_name>sys_scope_privilege_e1efc7be2beda6104271f21a6e91bf7d</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2025-05-20 14:35:47</sys_updated_on><target_name>sys_progress_worker</target_name><target_scope display_value="Global">global</target_scope><target_type>sys_db_object</target_type></sys_scope_privilege></record_update>]]></payload>
<payload_hash>206677585</payload_hash>
<remote_update_set display_value="ServiceNow Update All">7645eb3a2b25e6104271f21a6e91bf1d</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2025-05-20 16:09:16</sys_created_on>
<sys_id>3645eb3a2b25e6104271f21a6e91bf1f</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>196ee7464e30000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2025-05-20 16:09:16</sys_updated_on>
<table/>
<target_name>sys_progress_worker</target_name>
<type>Cross scope privilege</type>
<update_domain>global</update_domain>
<update_guid/>
<update_guid_history/>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="ServiceNow Update All">9b9d89f12bad22144271f21a6e91bfe4</application>
<category>customer</category>
<comments/>
<name>sys_properties_afe38226fb616a143225f8454eefdc65</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sys_properties"><sys_properties action="INSERT_OR_UPDATE"><choices/><description>Comma-separated list of plugin sys_ids or source names that should be skipped during automatic updates. This allows you to exclude specific plugins from the automatic update process.&#13;
&#13;
Format: Comma-separated values&#13;
Type: String&#13;
Example: "com.servicenow.plugin1,com.servicenow.plugin2"&#13;
&#13;
Use cases:&#13;
- Exclude plugins that require special handling&#13;
- Skip plugins that are known to cause issues&#13;
- Prevent updates to critical plugins during automated runs&#13;
- Exclude plugins that are managed through other processes&#13;
&#13;
Note: &#13;
- Values can be either plugin sys_ids or source names&#13;
- Spaces around commas are automatically trimmed&#13;
- Empty values are ignored&#13;
- Case-sensitive matching</description><ignore_cache>true</ignore_cache><is_private>false</is_private><name>x_snc_update_all.plugin.update.skip.list</name><read_roles/><suffix>x_snc_update_all.plugin.update.skip.list</suffix><sys_class_name>sys_properties</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2025-05-19 14:26:51</sys_created_on><sys_id>afe38226fb616a143225f8454eefdc65</sys_id><sys_mod_count>0</sys_mod_count><sys_name>x_snc_update_all.plugin.update.skip.list</sys_name><sys_package display_value="ServiceNow Update All" source="x_snc_update_all">9b9d89f12bad22144271f21a6e91bfe4</sys_package><sys_policy/><sys_scope display_value="ServiceNow Update All">9b9d89f12bad22144271f21a6e91bfe4</sys_scope><sys_update_name>sys_properties_afe38226fb616a143225f8454eefdc65</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2025-05-19 14:26:51</sys_updated_on><type>string</type><value/><write_roles/></sys_properties><sys_translated_text action="delete_multiple" query="documentkey=afe38226fb616a143225f8454eefdc65"/></record_update>]]></payload>
<payload_hash>-1890181049</payload_hash>
<remote_update_set display_value="ServiceNow Update All">7645eb3a2b25e6104271f21a6e91bf1d</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2025-05-20 16:09:16</sys_created_on>
<sys_id>3a45eb3a2b25e6104271f21a6e91bf1e</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>196ee7464550000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2025-05-20 16:09:16</sys_updated_on>
<table/>
<target_name>x_snc_update_all.plugin.update.skip.list</target_name>
<type>System Property</type>
<update_domain>global</update_domain>
<update_guid/>
<update_guid_history/>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="ServiceNow Update All">9b9d89f12bad22144271f21a6e91bfe4</application>
<category>customer</category>
<comments/>
<name>sys_scope_privilege_c4fb422a2b6162104271f21a6e91bfc0</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sys_scope_privilege"><sys_scope_privilege action="INSERT_OR_UPDATE"><operation>execute</operation><source_scope display_value="ServiceNow Update All">9b9d89f12bad22144271f21a6e91bfe4</source_scope><status>allowed</status><sys_class_name>sys_scope_privilege</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2025-05-19 15:00:23</sys_created_on><sys_id>c4fb422a2b6162104271f21a6e91bfc0</sys_id><sys_mod_count>0</sys_mod_count><sys_name>AppUpgrader</sys_name><sys_package display_value="ServiceNow Update All" source="x_snc_update_all">9b9d89f12bad22144271f21a6e91bfe4</sys_package><sys_policy/><sys_scope display_value="ServiceNow Update All">9b9d89f12bad22144271f21a6e91bfe4</sys_scope><sys_update_name>sys_scope_privilege_c4fb422a2b6162104271f21a6e91bfc0</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2025-05-19 15:00:23</sys_updated_on><target_name>AppUpgrader</target_name><target_scope display_value="Scoped App Client">781f36a96fef21005be8883e6b3ee43d</target_scope><target_type>sys_script_include</target_type></sys_scope_privilege></record_update>]]></payload>
<payload_hash>-1251225299</payload_hash>
<remote_update_set display_value="ServiceNow Update All">7645eb3a2b25e6104271f21a6e91bf1d</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2025-05-20 16:09:16</sys_created_on>
<sys_id>7245eb3a2b25e6104271f21a6e91bf1f</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>196ee74648f0000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2025-05-20 16:09:16</sys_updated_on>
<table/>
<target_name>AppUpgrader</target_name>
<type>Cross scope privilege</type>
<update_domain>global</update_domain>
<update_guid/>
<update_guid_history/>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="ServiceNow Update All">9b9d89f12bad22144271f21a6e91bfe4</application>
<category>customer</category>
<comments/>
<name>sys_properties_7f038e22fb616a143225f8454eefdc10</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sys_properties"><sys_properties action="INSERT_OR_UPDATE"><choices/><description>Controls how many plugins can be updated in a single execution of the UpdateAllPlugins script. This helps prevent overloading the system and allows for controlled, incremental updates.&#13;
&#13;
Default: 10&#13;
Type: Integer&#13;
Valid values: Any positive integer&#13;
&#13;
Example: If set to 5, the script will update up to 5 plugins in one run, then stop. This is useful for:&#13;
- Large instances with many plugins&#13;
- Controlling system load during updates&#13;
- Ensuring updates don't timeout&#13;
- Allowing for manual verification between batches&#13;
&#13;
Note: If there are more plugins to update than the batch size, the script will log how many remain and can be run again to process the next batch.</description><ignore_cache>true</ignore_cache><is_private>false</is_private><name>x_snc_update_all.plugin.update.batch.size</name><read_roles/><suffix>x_snc_update_all.plugin.update.batch.size</suffix><sys_class_name>sys_properties</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2025-05-19 14:25:00</sys_created_on><sys_id>7f038e22fb616a143225f8454eefdc10</sys_id><sys_mod_count>1</sys_mod_count><sys_name>x_snc_update_all.plugin.update.batch.size</sys_name><sys_package display_value="ServiceNow Update All" source="x_snc_update_all">9b9d89f12bad22144271f21a6e91bfe4</sys_package><sys_policy/><sys_scope display_value="ServiceNow Update All">9b9d89f12bad22144271f21a6e91bfe4</sys_scope><sys_update_name>sys_properties_7f038e22fb616a143225f8454eefdc10</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2025-05-19 16:09:05</sys_updated_on><type>integer</type><value>500</value><write_roles/></sys_properties><sys_translated_text action="delete_multiple" query="documentkey=7f038e22fb616a143225f8454eefdc10"/></record_update>]]></payload>
<payload_hash>-893322866</payload_hash>
<remote_update_set display_value="ServiceNow Update All">7645eb3a2b25e6104271f21a6e91bf1d</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2025-05-20 16:09:16</sys_created_on>
<sys_id>7645eb3a2b25e6104271f21a6e91bf1e</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>196ee7464b00000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2025-05-20 16:09:16</sys_updated_on>
<table/>
<target_name>x_snc_update_all.plugin.update.batch.size</target_name>
<type>System Property</type>
<update_domain>global</update_domain>
<update_guid/>
<update_guid_history/>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="ServiceNow Update All">9b9d89f12bad22144271f21a6e91bfe4</application>
<category>customer</category>
<comments/>
<name>sysauto_script_90c742a2fba16a143225f8454eefdc9a</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update table="sysauto_script"&gt;&lt;sysauto_script action="INSERT_OR_UPDATE"&gt;&lt;active&gt;true&lt;/active&gt;&lt;business_calendar/&gt;&lt;condition/&gt;&lt;conditional&gt;false&lt;/conditional&gt;&lt;entered_time&gt;1970-01-01 00:00:00&lt;/entered_time&gt;&lt;max_drift/&gt;&lt;name&gt;UpdateAll Plugins Weekly Job&lt;/name&gt;&lt;offset/&gt;&lt;offset_type&gt;0&lt;/offset_type&gt;&lt;run_as display_value="System Administrator"&gt;6816f79cc0a8016401c5a33be04be441&lt;/run_as&gt;&lt;run_as_tz/&gt;&lt;run_dayofmonth&gt;1&lt;/run_dayofmonth&gt;&lt;run_dayofweek&gt;7&lt;/run_dayofweek&gt;&lt;run_period/&gt;&lt;run_start&gt;2025-05-19 14:42:06&lt;/run_start&gt;&lt;run_time&gt;1970-01-01 05:00:00&lt;/run_time&gt;&lt;run_type&gt;weekly&lt;/run_type&gt;&lt;script&gt;&lt;![CDATA[gs.info('(x_snc_update_all) Scheduled job: UpdateAll Plugins Weekly Job - Invoking UpdateAllPlugins');
var result = x_snc_update_all.UpdateAllPlugins();
gs.info('(x_snc_update_all) Scheduled job: UpdateAll Plugins Weekly Job - Execution summary: ' + JSON.stringify(result));]]&gt;&lt;/script&gt;&lt;sys_class_name&gt;sysauto_script&lt;/sys_class_name&gt;&lt;sys_created_by&gt;admin&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2025-05-19 14:43:56&lt;/sys_created_on&gt;&lt;sys_id&gt;90c742a2fba16a143225f8454eefdc9a&lt;/sys_id&gt;&lt;sys_mod_count&gt;2&lt;/sys_mod_count&gt;&lt;sys_name&gt;UpdateAll Plugins Weekly Job&lt;/sys_name&gt;&lt;sys_package display_value="ServiceNow Update All" source="x_snc_update_all"&gt;9b9d89f12bad22144271f21a6e91bfe4&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="ServiceNow Update All"&gt;9b9d89f12bad22144271f21a6e91bfe4&lt;/sys_scope&gt;&lt;sys_update_name&gt;sysauto_script_90c742a2fba16a143225f8454eefdc9a&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;admin&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2025-05-20 12:46:21&lt;/sys_updated_on&gt;&lt;time_zone&gt;America/New_York&lt;/time_zone&gt;&lt;upgrade_safe&gt;false&lt;/upgrade_safe&gt;&lt;/sysauto_script&gt;&lt;/record_update&gt;</payload>
<payload_hash>2099086249</payload_hash>
<remote_update_set display_value="ServiceNow Update All">7645eb3a2b25e6104271f21a6e91bf1d</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2025-05-20 16:09:16</sys_created_on>
<sys_id>7a45eb3a2b25e6104271f21a6e91bf1d</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>196ee7464c40000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2025-05-20 16:09:16</sys_updated_on>
<table/>
<target_name>UpdateAll Plugins Weekly Job</target_name>
<type>Scheduled Script Execution</type>
<update_domain>global</update_domain>
<update_guid/>
<update_guid_history/>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="ServiceNow Update All">9b9d89f12bad22144271f21a6e91bfe4</application>
<category>customer</category>
<comments/>
<name>sys_app_9b9d89f12bad22144271f21a6e91bfe4</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sys_app"><sys_app action="INSERT_OR_UPDATE"><active>true</active><can_edit_in_studio>true</can_edit_in_studio><enforce_license>none</enforce_license><guided_setup_guid/><hide_on_ui>false</hide_on_ui><ide_created>GAC</ide_created><installed_as_dependency>false</installed_as_dependency><js_level>es_latest</js_level><licensable>true</licensable><license/><license_category>none</license_category><license_definition/><license_model>none</license_model><logo/><menu/><name>ServiceNow Update All</name><package_json/><private>false</private><restrict_table_access>false</restrict_table_access><runtime_access_tracking>permissive</runtime_access_tracking><scope>x_snc_update_all</scope><scoped_administration>false</scoped_administration><short_description>ServiceNow Scoped Application</short_description><source>x_snc_update_all</source><store_correlation_id/><store_url/><subscription_entitlement/><sys_class_name>sys_app</sys_class_name><sys_code/><sys_created_by>admin</sys_created_by><sys_created_on>2025-05-17 02:32:38</sys_created_on><sys_id>9b9d89f12bad22144271f21a6e91bfe4</sys_id><sys_mod_count>6</sys_mod_count><sys_updated_by>admin</sys_updated_by><sys_updated_on>2025-05-20 16:06:31</sys_updated_on><template/><trackable>true</trackable><uninstall_blocked>false</uninstall_blocked><user_role/><vendor/><vendor_prefix/><version>1.0.5</version></sys_app><sys_translated_text action="delete_multiple" query="documentkey=9b9d89f12bad22144271f21a6e91bfe4"/></record_update>]]></payload>
<payload_hash>-1021317899</payload_hash>
<remote_update_set display_value="ServiceNow Update All">7645eb3a2b25e6104271f21a6e91bf1d</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2025-05-20 16:09:16</sys_created_on>
<sys_id>b245eb3a2b25e6104271f21a6e91bf1e</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>196ee7464100000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2025-05-20 16:09:16</sys_updated_on>
<table/>
<target_name>ServiceNow Update All</target_name>
<type>Custom Application</type>
<update_domain>global</update_domain>
<update_guid/>
<update_guid_history/>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="ServiceNow Update All">9b9d89f12bad22144271f21a6e91bfe4</application>
<category>customer</category>
<comments/>
<name>sys_script_include_c6a14eeafb216a143225f8454eefdc3d</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update table="sys_script_include"&gt;&lt;sys_script_include action="INSERT_OR_UPDATE"&gt;&lt;access&gt;public&lt;/access&gt;&lt;active&gt;true&lt;/active&gt;&lt;api_name&gt;x_snc_update_all.UpdateAllPlugins&lt;/api_name&gt;&lt;caller_access&gt;1&lt;/caller_access&gt;&lt;client_callable&gt;false&lt;/client_callable&gt;&lt;description&gt;This Script Include provides automated plugin update functionality for ServiceNow instances. It can be called programmatically or via the UI Action to update multiple plugins in a controlled manner.&amp;#13;
&amp;#13;
Key Features:&amp;#13;
- Processes plugins in configurable batch sizes&amp;#13;
- Supports a skip list for excluding specific plugins&amp;#13;
- Provides detailed logging of the update process&amp;#13;
- Returns a summary of updates, skips, and failures&amp;#13;
- Can be scheduled to run automatically or triggered manually&amp;#13;
&amp;#13;
Usage:&amp;#13;
var updater = new global.x_snc_update_all.UpdateAllPlugins();&amp;#13;
var result = updater();&amp;#13;
&amp;#13;
Configuration:&amp;#13;
- x_snc_update_all.plugin.update.batch.size: Maximum number of plugins to update in one run&amp;#13;
- x_snc_update_all.plugin.update.skip.list: Comma-separated list of plugins to skip&amp;#13;
&amp;#13;
Returns:&amp;#13;
{&amp;#13;
    updated: [array of successfully updated plugin names],&amp;#13;
    skipped: [array of skipped plugin names],&amp;#13;
    failed: [array of failed plugin names with error details],&amp;#13;
    duration: total execution time in seconds&amp;#13;
}&lt;/description&gt;&lt;mobile_callable&gt;false&lt;/mobile_callable&gt;&lt;name&gt;UpdateAllPlugins&lt;/name&gt;&lt;sandbox_callable&gt;false&lt;/sandbox_callable&gt;&lt;script&gt;&lt;![CDATA[var UpdateAllPlugins = function() {
    var scriptStartTime = new Date();
    gs.info('Plugin update process (x_snc_update_all) ▸ STARTED at ' + scriptStartTime);

    // Refresh store data before checking for updates
    try {
        gs.info('Plugin update process (x_snc_update_all) ▸ Refreshing store data...');
        
        // This is the correct method to use for updating the store app data
        new sn_appclient.UpdateChecker().checkAvailableUpdates();
        
        gs.info('Plugin update process (x_snc_update_all) ▸ Store data refresh completed');
    } catch (ex) {
        gs.error('Plugin update process (x_snc_update_all) ▸ Failed to refresh store data: ' + ex);
        // Continue with the update process even if refresh fails
    }

    var skipListProperty = gs.getProperty('x_snc_update_all.plugin.update.skip.list', '');
    var skip = (skipListProperty || '')
            .split(',')
            .map(function (s) {return s.trim();})
            .filter(function(s) {return s.length &gt; 0;});
    
    if (skip.length &gt; 0) {
        gs.info('Plugin update process (x_snc_update_all) ▸ Skipping: ' + skip.join(', '));
    }

    var gr = new GlideRecord('sys_store_app');
    gr.addEncodedQuery('hide_on_ui=false^update_available=true');
    gr.orderBy('name');
    gr.query();
    
    var upgrader = new sn_appclient.AppUpgrader(); 
    var updated = [];
    var skipped = [];
    var failed = [];
    var total = gr.getRowCount();
    
    gs.info('Plugin update process (x_snc_update_all) ▸ Found ' + total + ' updatable plugins');

    var maxUpdatesPerRun = parseInt(gs.getProperty('x_snc_update_all.plugin.update.batch.size', '10')) || 10;
    var updateCount = 0;

    while (gr.next() &amp;&amp; updateCount &lt; maxUpdatesPerRun) {
        var id = gr.getUniqueValue();
        var source = gr.getValue('source');
        var name = gr.getValue('name');
        var currentVer = gr.getValue('version');
        var newVersion = gr.getValue('latest_version');

        if (skip.indexOf(source) &gt; -1 || skip.indexOf(id) &gt; -1) {
            skipped.push(name);
            gs.info('Plugin update (x_snc_update_all) ▸ SKIPPED ' + name + ' (in skip list)');
            continue;
        }

        try {
            gs.info('Plugin update (x_snc_update_all) ▸ QUEUED ' + name + ' [' + currentVer + ' → ' + newVersion + ']');
            var updateStartTime = new Date();
            upgrader.upgrade(id, newVersion, false);
            var updateDuration = (new Date() - updateStartTime) / 1000;
            updated.push(name);
            updateCount++;
            gs.info('Plugin update (x_snc_update_all) ▸ COMPLETE ' + name + ' (took ' + updateDuration + 's)');
        } catch (ex) {
            var errorInfo = name + ' (' + (ex.message || String(ex)) + ')';
            failed.push(errorInfo);
            gs.error('Plugin update (x_snc_update_all) ▸ FAILED ' + name + ' – ' + ex);
        }
    }

    if (updateCount &gt;= maxUpdatesPerRun &amp;&amp; total &gt; updateCount) {
        gs.info('Plugin update process (x_snc_update_all) ▸ Processed batch of ' + maxUpdatesPerRun + '. Remaining: ' + (total - updateCount));
    }

    var totalDuration = (new Date() - scriptStartTime) / 1000;
    gs.info('Plugin update summary (x_snc_update_all) ▸ Updated: ' + updated.length +
            ', Skipped: ' + skipped.length +
            ', Failed: '  + failed.length + 
            ', Duration: ' + totalDuration + 's');

    if (failed.length &gt; 0) {
        gs.info('Plugin update failures (x_snc_update_all) ▸ ' + failed.join(', '));
    }

    return {
        updated: updated,
        skipped: skipped,
        failed: failed,
        duration: totalDuration
    };
};]]&gt;&lt;/script&gt;&lt;sys_class_name&gt;sys_script_include&lt;/sys_class_name&gt;&lt;sys_created_by&gt;admin&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2025-05-19 14:20:25&lt;/sys_created_on&gt;&lt;sys_id&gt;c6a14eeafb216a143225f8454eefdc3d&lt;/sys_id&gt;&lt;sys_mod_count&gt;11&lt;/sys_mod_count&gt;&lt;sys_name&gt;UpdateAllPlugins&lt;/sys_name&gt;&lt;sys_package display_value="ServiceNow Update All" source="x_snc_update_all"&gt;9b9d89f12bad22144271f21a6e91bfe4&lt;/sys_package&gt;&lt;sys_policy&gt;read&lt;/sys_policy&gt;&lt;sys_scope display_value="ServiceNow Update All"&gt;9b9d89f12bad22144271f21a6e91bfe4&lt;/sys_scope&gt;&lt;sys_update_name&gt;sys_script_include_c6a14eeafb216a143225f8454eefdc3d&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;admin&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2025-05-20 15:28:17&lt;/sys_updated_on&gt;&lt;/sys_script_include&gt;&lt;/record_update&gt;</payload>
<payload_hash>-1480393047</payload_hash>
<remote_update_set display_value="ServiceNow Update All">7645eb3a2b25e6104271f21a6e91bf1d</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2025-05-20 16:09:16</sys_created_on>
<sys_id>ba45eb3a2b25e6104271f21a6e91bf1f</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>196ee7464f00000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2025-05-20 16:09:16</sys_updated_on>
<table/>
<target_name>UpdateAllPlugins</target_name>
<type>Script Include</type>
<update_domain>global</update_domain>
<update_guid/>
<update_guid_history/>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="ServiceNow Update All">9b9d89f12bad22144271f21a6e91bfe4</application>
<category>customer</category>
<comments/>
<name>sys_scope_privilege_80fb422a2b6162104271f21a6e91bfbe</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sys_scope_privilege"><sys_scope_privilege action="INSERT_OR_UPDATE"><operation>read</operation><source_scope display_value="ServiceNow Update All">9b9d89f12bad22144271f21a6e91bfe4</source_scope><status>allowed</status><sys_class_name>sys_scope_privilege</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2025-05-19 15:00:23</sys_created_on><sys_id>80fb422a2b6162104271f21a6e91bfbe</sys_id><sys_mod_count>0</sys_mod_count><sys_name>sys_store_app</sys_name><sys_package display_value="ServiceNow Update All" source="x_snc_update_all">9b9d89f12bad22144271f21a6e91bfe4</sys_package><sys_policy/><sys_scope display_value="ServiceNow Update All">9b9d89f12bad22144271f21a6e91bfe4</sys_scope><sys_update_name>sys_scope_privilege_80fb422a2b6162104271f21a6e91bfbe</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2025-05-19 15:00:23</sys_updated_on><target_name>sys_store_app</target_name><target_scope display_value="Scoped App Client">781f36a96fef21005be8883e6b3ee43d</target_scope><target_type>sys_db_object</target_type></sys_scope_privilege></record_update>]]></payload>
<payload_hash>484640392</payload_hash>
<remote_update_set display_value="ServiceNow Update All">7645eb3a2b25e6104271f21a6e91bf1d</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2025-05-20 16:09:16</sys_created_on>
<sys_id>be45eb3a2b25e6104271f21a6e91bf1e</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>196ee7464860000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2025-05-20 16:09:16</sys_updated_on>
<table/>
<target_name>sys_store_app</target_name>
<type>Cross scope privilege</type>
<update_domain>global</update_domain>
<update_guid/>
<update_guid_history/>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="ServiceNow Update All">9b9d89f12bad22144271f21a6e91bfe4</application>
<category>customer</category>
<comments/>
<name>sys_scope_privilege_e7fbdbb6fb6562103225f8454eefdc55</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sys_scope_privilege"><sys_scope_privilege action="INSERT_OR_UPDATE"><operation>execute</operation><source_scope display_value="ServiceNow Update All">9b9d89f12bad22144271f21a6e91bfe4</source_scope><status>allowed</status><sys_class_name>sys_scope_privilege</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2025-05-20 15:28:37</sys_created_on><sys_id>e7fbdbb6fb6562103225f8454eefdc55</sys_id><sys_mod_count>0</sys_mod_count><sys_name>UpdateChecker</sys_name><sys_package display_value="ServiceNow Update All" source="x_snc_update_all">9b9d89f12bad22144271f21a6e91bfe4</sys_package><sys_policy/><sys_scope display_value="ServiceNow Update All">9b9d89f12bad22144271f21a6e91bfe4</sys_scope><sys_update_name>sys_scope_privilege_e7fbdbb6fb6562103225f8454eefdc55</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2025-05-20 15:28:37</sys_updated_on><target_name>UpdateChecker</target_name><target_scope display_value="Scoped App Client">781f36a96fef21005be8883e6b3ee43d</target_scope><target_type>sys_script_include</target_type></sys_scope_privilege></record_update>]]></payload>
<payload_hash>1440949517</payload_hash>
<remote_update_set display_value="ServiceNow Update All">7645eb3a2b25e6104271f21a6e91bf1d</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2025-05-20 16:09:16</sys_created_on>
<sys_id>f645eb3a2b25e6104271f21a6e91bf1f</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>196ee7465310000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2025-05-20 16:09:16</sys_updated_on>
<table/>
<target_name>UpdateChecker</target_name>
<type>Cross scope privilege</type>
<update_domain>global</update_domain>
<update_guid/>
<update_guid_history/>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="ServiceNow Update All">9b9d89f12bad22144271f21a6e91bfe4</application>
<category>customer</category>
<comments/>
<name>sys_scope_privilege_00fb422a2b6162104271f21a6e91bf4a</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sys_scope_privilege"><sys_scope_privilege action="INSERT_OR_UPDATE"><operation>execute</operation><source_scope display_value="ServiceNow Update All">9b9d89f12bad22144271f21a6e91bfe4</source_scope><status>allowed</status><sys_class_name>sys_scope_privilege</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2025-05-19 15:00:23</sys_created_on><sys_id>00fb422a2b6162104271f21a6e91bf4a</sys_id><sys_mod_count>0</sys_mod_count><sys_name>Glide API: properties</sys_name><sys_package display_value="ServiceNow Update All" source="x_snc_update_all">9b9d89f12bad22144271f21a6e91bfe4</sys_package><sys_policy/><sys_scope display_value="ServiceNow Update All">9b9d89f12bad22144271f21a6e91bfe4</sys_scope><sys_update_name>sys_scope_privilege_00fb422a2b6162104271f21a6e91bf4a</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2025-05-19 15:00:23</sys_updated_on><target_name>Glide API: properties</target_name><target_scope display_value="Global">global</target_scope><target_type>scriptable</target_type></sys_scope_privilege></record_update>]]></payload>
<payload_hash>1672615969</payload_hash>
<remote_update_set display_value="ServiceNow Update All">7645eb3a2b25e6104271f21a6e91bf1d</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2025-05-20 16:09:16</sys_created_on>
<sys_id>fa45eb3a2b25e6104271f21a6e91bf1e</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>196ee7464630000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2025-05-20 16:09:16</sys_updated_on>
<table/>
<target_name>Glide API: properties</target_name>
<type>Cross scope privilege</type>
<update_domain>global</update_domain>
<update_guid/>
<update_guid_history/>
<update_set display_value=""/>
<view/>
</sys_update_xml>
</unload>
